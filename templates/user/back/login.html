{% extends 'user/back_layout.html' %}
{% load static %}

{% block title %}Login{% endblock %}

{% block content %}
    <!--begin::Login-->
    <div class="login wizard d-flex flex-column flex-lg-row flex-column-fluid">
        <!--begin::Aside-->
        <div class="login-aside d-flex flex-column flex-row-auto" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6) 50%, rgba(0, 0, 0, 0.6)), url({% static 'metronic/media/bg/back.png' %})">

            <!--begin::Aside Top-->
            <div class="d-flex flex-column-auto flex-column pt-40">
                <!--begin::Aside header-->
                <a href="/" class="login-logo text-center pt-10 pt-lg-25 pb-10">
                    <svg id="Layer_1" width="140" height="140" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 581.53 590.84" class="NuxtLogo absolute transition-all duration-1000 cursor-pointer logo-center"
                         data-v-295c641d="" data-v-1cae33ea="">
                        <defs data-v-295c641d="">
                            <style data-v-295c641d="">
                                .cls-1 {
                                    fill: #8db230;
                                }

                                .cls-2 {
                                    fill: #6e9b2e;
                                }

                                .cls-3 {
                                    fill: #a1c749;
                                }

                                .cls-4 {
                                    fill: #5f822d;
                                }

                                .cls-5 {
                                    fill: #7d80bd;
                                }

                                .cls-6 {
                                    fill: #5f60a8;
                                }

                                .cls-7 {
                                    fill: #a5a1d0;
                                }

                                .cls-8 {
                                    fill: #5a57a2;
                                }

                                .cls-9 {
                                    fill: #e89922;
                                }

                                .cls-10 {
                                    fill: #e4801d;
                                }

                                .cls-11 {
                                    fill: #eba83b;
                                }

                                .cls-12 {
                                    fill: #b76d1d;
                                }

                                .cls-13 {
                                    fill: #fff;
                                }
                            </style>
                        </defs>
                        <polygon points="136.42 87.08 276.22 120.73 136.42 264.32 162.48 156.75 136.42 87.08" class="cls-1" data-v-295c641d=""></polygon>
                        <polygon points="261.53 335.41 136.42 264.32 189.72 209.58 261.53 335.41" class="cls-2" data-v-295c641d=""></polygon>
                        <polygon points="162.48 156.75 276.22 120.73 136.42 87.08 162.48 156.75" class="cls-3" data-v-295c641d=""></polygon>
                        <polygon points="136.42 264.32 198.98 225.8 189.72 209.58 136.42 264.32" class="cls-4" data-v-295c641d=""></polygon>
                        <polygon points="442.18 88.66 343.12 192.88 288.7 0 368.82 76.38 442.18 88.66" class="cls-5" data-v-295c641d=""></polygon>
                        <polygon points="164.57 72.78 288.7 0 309.45 73.54 164.57 72.78" class="cls-6" data-v-295c641d=""></polygon>
                        <polygon points="368.82 76.38 343.12 192.88 442.18 88.66 368.82 76.38" class="cls-7" data-v-295c641d=""></polygon>
                        <polygon points="288.7 0 290.77 73.44 309.45 73.54 288.7 0" class="cls-8" data-v-295c641d=""></polygon>
                        <polygon points="288.28 352.71 250.1 214.07 443.41 266.98 336.64 296.2 288.28 352.71" class="cls-9" data-v-295c641d=""></polygon>
                        <polygon points="445.11 123.09 443.41 266.98 369.71 246.81 445.11 123.09" class="cls-10" data-v-295c641d=""></polygon>
                        <polygon points="336.64 296.2 250.1 214.07 288.28 352.71 336.64 296.2" class="cls-11" data-v-295c641d=""></polygon>
                        <polygon points="443.41 266.98 379.43 230.86 369.71 246.81 443.41 266.98" class="cls-12" data-v-295c641d=""></polygon>
                        <path d="M79.47,430.62c-4-6.74-15.15-13.13-27.95-13.13-16.5,0-24.41,6.9-24.41,15.65,0,10.27,12.12,13.14,26.26,14.82,24.58,3,47.48,9.43,47.48,37.54,0,26.27-23.23,37.55-49.5,37.55-24.08,0-42.6-7.41-51.35-29l18.52-9.6c5.22,13,18.86,18.69,33.17,18.69,14,0,27.1-4.88,27.1-17.68,0-11.11-11.61-15.65-27.27-17.34-24.08-2.86-46.3-9.26-46.3-35.69,0-24.25,23.91-34.18,45.63-34.35,18.35,0,37.37,5.22,46.3,23.41Z"
                              class="cls-13" data-v-295c641d=""></path>
                        <path d="M198.34,520.19V472.54H140.42v47.65H118.2V402.33h22.22V452h57.92V402.33h22V520.19Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M325,497.8H263.33L253.23,520H229.15L282,402.16h24.24L359.13,520H334.89Zm-30.81-70.89-21.89,50.18H316Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M473.62,520H447.19l-34.35-39.4H391.46V520H369.24V402c18.69,0,37.37.16,56.06.16,27.78.17,42.43,18.69,42.43,39.06,0,16.17-7.41,32.5-29.8,37l35.69,40.24Zm-82.16-97.15v37.72H425.3c14.15,0,20.21-9.43,20.21-18.86s-6.23-18.86-20.21-18.86Z"
                              class="cls-13" data-v-295c641d=""></path>
                        <path d="M538.28,485.34H504.94V520H482.72V402.16c18.52,0,37-.16,55.56-.16C595.86,402,596,485.34,538.28,485.34ZM504.94,465h33.34c28.45,0,28.28-41.75,0-41.75H504.94Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M44.07,590.84l-4.82-10.77H13.08L8.32,590.84H4.69L24.35,547H28l19.67,43.84Zm-6.13-13.9L26.17,550.26,14.39,576.94Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M139.65,590.84h-4.44l-15.16-16.6h-12v16.6h-3.38V547H124c9.52,0,14.34,6.83,14.4,13.66.06,7.13-4.63,13.4-14.21,13.4Zm-31.56-19.79h15.53c7.64,0,11-4.32,11.08-10.46.07-5.13-3.44-10.45-10.7-10.45H108.09Z"
                              class="cls-13" data-v-295c641d=""></path>
                        <path d="M232.85,584.76a22.53,22.53,0,0,1-16,6.58c-14.77,0-22.48-10.33-22.54-22.17s7.52-22.67,22.54-22.67a22.53,22.53,0,0,1,16,6.58l-2.31,2a19.19,19.19,0,0,0-13.66-5.57c-12.77,0-19.34,9-19.28,19.54.12,10.27,6.64,19.16,19.28,19.16a19.59,19.59,0,0,0,13.72-5.58Z"
                              class="cls-13" data-v-295c641d=""></path>
                        <path d="M323.48,590.84V570.92H295.56v19.92h-3.38V547h3.38v20.86h27.92V547h3.39v43.84Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M387.94,590.84V547h3.32v43.84Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M488.65,547l-18,44H467l-18-44h3.63l16.22,40.08L485,547Z" class="cls-13" data-v-295c641d=""></path>
                        <path d="M549.16,567.23h25.67v3.07H549.16v17.28h27.68v3.26h-31V547h30.25v3.2H549.16Z" class="cls-13" data-v-295c641d=""></path>
                    </svg>
                </a>
                <!--end::Aside header-->
                <!--begin::Aside Title-->
                <h3 class="font-weight-bolder text-center font-size-h4 text-dark-50 line-height-xl">
                    <br/>
                </h3>
                <!--end::Aside Title-->
            </div>
            <!--end::Aside Top-->

        </div>
        <!--begin::Aside-->

        <!--begin::Content-->
        <div class="login-content flex-row-fluid d-flex flex-column p-10">
            <!--begin::Top-->
            <div class="text-right d-flex justify-content-center">
                <div class="top-login text-right d-flex justify-content-end pt-5 pb-lg-0 pb-10">
                    <span class="font-weight-bold text-muted font-size-h4">Having issues?</span>
                    <a href="javascript:" class="font-weight-bold text-primary font-size-h4 ml-2" id="kt_login_signup">Get Help</a>
                </div>
            </div>
            <!--end::Top-->

            <!--begin::Wrapper-->
            <div class="d-flex flex-row-fluid flex-center">

                <!--begin::Login-->
                <div class="login-form">
                    <!--begin::Form-->
                    <form class="form" id="kt_user_login_form" method="post" action="/user/login/">
                        {% csrf_token %}
                        <!--begin::Title-->
                        <div class="pb-5 pb-lg-15">
                            <h3 class="font-weight-bolder text-dark font-size-h2 font-size-h1-lg">Log In</h3>
                            <!--<div class="text-muted font-weight-bold font-size-h4">New Here?
                                <a href="/user/signup" class="text-primary font-weight-bolder">Create Account</a>
                            </div>-->
                        </div>
                        <!--end::Title-->
                        <!--begin::Form group-->
                        <div class="form-group">
                            <label class="font-size-h6 font-weight-bolder text-dark">Email</label>
                            <input class="form-control h-auto py-5 px-6 rounded-lg border-0" tabindex="1" type="text" id="email" name="email" value="{{ email }}"/>
                        </div>
                        <!--end::Form group-->
                        <!--begin::Form group-->
                        <div class="form-group">
                            <div class="d-flex justify-content-between mt-n5">
                                <label class="font-size-h6 font-weight-bolder text-dark pt-5">Password</label>
                                <a href="/user/forgot" class="text-primary font-size-h6 font-weight-bolder text-hover-primary pt-5">Forgot Password ?</a>
                            </div>
                            <div class="row">
                                <div class="col-11">
                                    <input class="form-control h-auto py-5 px-6 rounded-lg border-0" tabindex="2" type="password" id="password" name="password" value="{{ password }}"/>
                                </div>
                                <div class="col-1">
                                    <div class="hide-password">
                                        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" aria-hidden="true" focusable="false">
                                            <path d="M10.58,7.25l1.56,1.56c1.38,0.07,2.47,1.17,2.54,2.54l1.56,1.56C16.4,12.47,16.5,12,16.5,11.5C16.5,9.02,14.48,7,12,7 C11.5,7,11.03,7.1,10.58,7.25z"></path>
                                            <path d="M12,6c3.79,0,7.17,2.13,8.82,5.5c-0.64,1.32-1.56,2.44-2.66,3.33l1.42,1.42c1.51-1.26,2.7-2.89,3.43-4.74 C21.27,7.11,17,4,12,4c-1.4,0-2.73,0.25-3.98,0.7L9.63,6.3C10.4,6.12,11.19,6,12,6z"></path>
                                            <path d="M16.43,15.93l-1.25-1.25l-1.27-1.27l-3.82-3.82L8.82,8.32L7.57,7.07L6.09,5.59L3.31,2.81L1.89,4.22l2.53,2.53 C2.92,8.02,1.73,9.64,1,11.5C2.73,15.89,7,19,12,19c1.4,0,2.73-0.25,3.98-0.7l4.3,4.3l1.41-1.41l-3.78-3.78L16.43,15.93z M11.86,14.19c-1.38-0.07-2.47-1.17-2.54-2.54L11.86,14.19z M12,17c-3.79,0-7.17-2.13-8.82-5.5c0.64-1.32,1.56-2.44,2.66-3.33 l1.91,1.91C7.6,10.53,7.5,11,7.5,11.5c0,2.48,2.02,4.5,4.5,4.5c0.5,0,0.97-0.1,1.42-0.25l0.95,0.95C13.6,16.88,12.81,17,12,17z"></path>
                                        </svg>
                                    </div>
                                    <div class="show-password">
                                        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" aria-hidden="true" focusable="false">
                                            <path d="M12,7c-2.48,0-4.5,2.02-4.5,4.5S9.52,16,12,16s4.5-2.02,4.5-4.5S14.48,7,12,7z M12,14.2c-1.49,0-2.7-1.21-2.7-2.7 c0-1.49,1.21-2.7,2.7-2.7s2.7,1.21,2.7,2.7C14.7,12.99,13.49,14.2,12,14.2z"></path>
                                            <path d="M12,4C7,4,2.73,7.11,1,11.5C2.73,15.89,7,19,12,19s9.27-3.11,11-7.5C21.27,7.11,17,4,12,4z M12,17 c-3.79,0-7.17-2.13-8.82-5.5C4.83,8.13,8.21,6,12,6s7.17,2.13,8.82,5.5C19.17,14.87,15.79,17,12,17z"></path>
                                            <path fill="none" d="M0,0h24v24H0V0z"></path>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--end::Form group-->
                        <!--begin::Action-->
                        <div class="d-flex justify-content-end pb-lg-0 pb-5">
                            <button type="submit" tabindex="3" id="kt_user_login_form_submit_button" class="btn btn-primary font-weight-bolder font-size-h6 px-8 py-4 my-3 mr-3" disabled="disabled">Log In</button>
                        </div>
                        <!--end::Action-->
                    </form>
                    <!--end::Form-->

                    <!--begin::Form-->
                    <form class="form d-none" id="kt_user_otp_form" method="post" action="/user/check_otp/">
                        {% csrf_token %}
                        <!--begin::Title-->
                        <div class="pt-lg-0 pt-5 pb-10">
                            <h3 class="font-weight-bolder text-dark font-size-h2 font-size-h1-lg">One Time Password</h3>
                            <div class="text-muted font-weight-bold font-size-h4">
                                Enter the verification code sent to <span class="to-otp"></span>
                                <button type="button" class="btn btn-secondary ml-3" id="resend_otp">
                                    Resend
                                    <span class="label label-danger ml-2 d-none">3</span>
                                </button>
                            </div>
                        </div>
                        <!--begin::Title-->
                        <!--begin::Form group-->
                        <div class="form-group">
                            <input type="text" class="form-control h-auto py-5 px-6 border-0 rounded-lg font-size-h6" id="otp" name="otp" maxlength="6" placeholder="Enter the verification code here"/>
                        </div>
                        <!--end::Form group-->
                    </form>
                    <!--end::Form-->
                </div>
            </div>
            <!--end::Wrapper-->
        </div>
        <!--end::Content-->
    </div>
    <!--end::Login-->
{% endblock %}

{% block script %}
    <!--begin::Page Scripts(used by this page)-->
    <script src="{% static 'metronic/js/pages/user/login.js' %}?202302021810"></script>

    {% if result == 'fail' %}
        <script type="text/javascript">
            toastr.error("{{ message }}", "Login Error");
        </script>
    {% endif %}
{% endblock %}
